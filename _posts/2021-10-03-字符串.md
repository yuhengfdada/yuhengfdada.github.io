---
title: "String"
categories:
  - Blog
tags:
  - LeetCode
  - String
---

字符串相关。

从结构上来说字符串和数组是一样的。这点在python中更能得到体现（字符串可以通过下标操作）。

# [344. 反转字符串](https://leetcode-cn.com/problems/reverse-string/)

交换对应的元素就行，思路没什么好说的。很快写出第一版：

```python
def reverseString(self, s: List[str]) -> None:
    for i in range(len(s)//2):
        s[i], s[len(s)-1-i] = s[len(s)-1-i], s[i]
```

但其实还有优化空间：双指针。之前还得算range里的值什么的，要思考一下。双指针直接无需思考。

```python
def reverseString(self, s: List[str]) -> None:
    i = 0
    j = len(s) - 1
    while i < j:
        s[i], s[j] = s[j], s[i]
        i += 1
        j -= 1
```

# [541. 反转字符串 II](https://leetcode-cn.com/problems/reverse-string-ii/)

注意python切片做左值的时候是引用，做右值的时候是copy。

注意python的字符串是immutable的。要做元素操作时先转换成list，最后再reduce一下即可。

这题两种思路，一种的窗口以k为单位，另一种窗口以2k为单位。先看一下一样的部分：

```python
def reverse(s, left, right):
    while left < right:
        s[left], s[right] = s[right], s[left]
        left += 1
        right -= 1

def concat(s1, s2):
    return s1+s2
```

一个reverse helper，还有一个后面输出用的reduce function。

以k为单位滑动（我的第一版解法）：

```python
def reverseStr(self, s: str, k: int) -> str:
    slist = list(s)
    left = 0
    right = k - 1
    while right <= len(s) - 1:
        # (left // k) % 2 是偶数，代表要reverse当前窗口。
        if not (left // k) % 2:
            reverse(slist, left, right)
        left += k
        right += k
    if not (left // k) % 2:
        reverse(slist, left, len(s)-1)
    return reduce(concat,slist)
```

可以看到，隔窗口进行操作，只要加个判断条件就行。